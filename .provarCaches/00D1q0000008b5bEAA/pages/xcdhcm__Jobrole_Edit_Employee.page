<apex:page standardController="xcdhcm__Job_Role__c" extensions="xcdhcm.JobRoleOverrideController" sidebar="false" >
    <!--         <apex:stylesheet value="{!URLFOR($Resource.XCD_static_resources,'Css/Employeesubpagecss.css')}" /> -->
    <apex:stylesheet value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/LiteEmployeeSub.css')}" />   
    <style>
        .bPageBlock .requiredInput .requiredBlock 
        {
            display:none!important;
        }
        .bEditBlock .pbSubheader .pbSubExtra 
        {
            display: none;
        }
        .Custom108Tab .tertiaryPalette, .individualPalette .Custom108Block .tertiaryPalette, .layoutEdit .individualPalette .Custom108Block .tertiaryPalette 
        {
            background-color: #ccc;
            border-color: #ccc;
            padding: .75rem 1rem;
            background: #f4f6f9;
            border-radius: 4px;
            color: #54698d!important;
            font-size: 1.15em;
            letter-spacing: .0625rem;
            font-weight: 500;
        }
        body .bEditBlock .pbBody .pbSubheader, body .bWizardBlock .pbBody .pbSubheader
        {
            font-size: 1.0em!important;
            line-height: 1.25!important;
            color: #54698d!important;
            letter-spacing: .0625rem!important; 
            font-weight: normal!important;
        }
        .closeIcon
        {
            display:none!important;  
        }
        input[type='text']   
        {
            width: 100%;
        }  
        textarea
        {
            width:100%;
        } 
        select
        {
            width:100%!important;
        }
        .bPageBlock .detailList tr td, .bPageBlock .detailList tr th, .hoverDetail .bPageBlock .detailList tr td, .hoverDetail .bPageBlock .detailList tr th 
        {
            border-bottom: white;
        }
         .multiSelectPicklistTable
        {
        	width: 200% !important;
        }
        .multiSelectPicklistTable .multiSelectPicklistRow .multiSelectPicklistCell 
        {
   			 width: 5.5% !important; 
    	}
        .datePicker
        { 
		   margin-left:210px !important;
		   width: 21% !important;
		   position: sticky !important;    
		} 
		.leftArrowIcon , .rightArrowIcon
        {
             width: 32Px;
             height: 20px !important;
        }
		<!-- START :: 28/11/2018 NPPD-1809,NPPD-1862 modified by Ranjeet -->
.lookupInput 
{
			 display: inline-table;
    		 width: 100% !important; 
}

.lookupInput img 
{
	margin-right: 2em;
	margin-top: 10px;
}
		<!-- END :: 28/11/2018 NPPD-1809,NPPD-1862 modified by Ranjeet -->
    </style>
    <html xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<head>
<apex:slds />
</head>
<body class="slds-scope">
	<apex:form id="theForm">
		<div role="dialog" tabindex="-1" aria-labelledby="header43"
			class="slds-modal slds-fade-in-open slds-modal--large">
			<div class="slds-modal__container">
				<div class="slds-modal__header">
					<apex:commandLink action="{!cancelCreateNewJobrole}"
						id="theCommandLink1" immediate="true"
						styleclass="slds-button slds-modal__close slds-button--icon-inverse">
						<img
							src="{!URLFOR($Resource.XCD_static_resources,'Css/Lite/close.PNG')}"
							alt="Cancel" style="width: 67%;" />
					</apex:commandLink>
					<h2 id="header43" class="slds-text-heading--medium">{!$Label.PHJobrole_Edit_Employee}</h2>
				</div>
				<div class="slds-modal__content slds-p-around--medium">
					<!-- ================================== Page content  ==========================================================    -->
					<apex:actionRegion >
								<!-- START :: NPPD-1862 20/12/2018 Control Post field on Job role edit page via custom setting modified by Ranjeet -->
								<apex:outputPanel id="pg">
									<apex:outputPanel rendered="{!batchStatusBool}">
								<!-- END :: NPPD-1862 20/12/2018 Control Post field on Job role edit page via custom setting modified by Ranjeet -->
										<apex:actionPoller interval="5" action="{!jobRoleViewOrEditPage}" enabled="{!pollerBool}" reRender="pg" />
										<font> 
											<apex:outputLabel value="{!Messages}" id="msg" style="color: #999999 !important;font-family:sans-serif;font-weight:bold;" />
										</font>
										<img src="{!URLFOR($Resource.XCD_static_resources,'Icons/loading52.gif')}" style="margin-left: -45px;" height="40" width="40" />
										<style type="text/css">
											.pbBody .pbSubsection 
											{
												pointer-events: none;
											}
											
											.pbHeader .pbButton 
											{
												pointer-events: none;
											}
											
											.pbBottomButtons .pbButtonb 
											{
												pointer-events: none;
											}
										</style>
								
								<!-- START :: NPPD-1862 20/12/2018 Control Post field on Job role edit page via custom setting modified by Ranjeet -->
									</apex:outputPanel>
								</apex:outputPanel>
								<!-- END :: NPPD-1862 20/12/2018 Control Post field on Job role edit page via custom setting added by Ranjeet -->
							</apex:actionRegion>
		
							<apex:pageBlock >
								<!-- START :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
								<apex:outputPanel id="error">
									<apex:pageMessages escape="false" />
								</apex:outputPanel>
								<!-- END :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
								
								<!-- START :: NPPD-1862 20/12/2018 Control Post field on Job role edit page via custom setting added by Ranjeet -->
                                <apex:actionStatus id="wait">                   
                                    <apex:facet name="start">
                                        <div class="slds-spinner_container slds-show " style="top:10%; bottom:9%" >
                                            <div class="slds-spinner--brand slds-spinner slds-spinner--medium" aria-hidden="false" role="alert">
                                                <div class="slds-spinner__dot-a"></div>
                                                <div class="slds-spinner__dot-b"></div>
                                            </div>
                                        </div>
                                    </apex:facet>
                                    <apex:facet name="stop">
                                        <div class="slds-spinner_container slds-hide slds-is-fixed">
                                            <div class="slds-spinner--brand slds-spinner slds-spinner--medium" aria-hidden="false" role="alert">
                                                <div class="slds-spinner__dot-a"></div>
                                                <div class="slds-spinner__dot-b"></div>
                                            </div>
                                        </div>
                                    </apex:facet>                                
                                </apex:actionStatus>

								<apex:pageBlockSection title="Post"  collapsible="false" rendered="{!DisplayPost}">
                                    <apex:pageBlockSectionItem >
                                        <!-- START:: 12/11/2018 NPPD-1819 FLS issue modify by  Kumbresh--> 
										<apex:outputpanel rendered="{!$ObjectType.xcdhcm__Job_Role__c.Fields.xcdhcm__Post_L__c.Accessible}">
										<!-- END:: 12/11/2018 NPPD-1819 FLS issue modify by  Kumbresh--> 
                                            <div class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
                                                <div class="slds-form-element slds-p-around--small">	                                                                                                 
                                                    <abbr class="slds-required" title="required">*</abbr>
                                                    <apex:outputLabel value="Post" for="fldid" />
                                                    <div class="slds-form-element__control">
                                                        <apex:actionRegion >
                                                         <!-- START:: 23/01/2018 Regression testrail Post issue fixed by Ranjeet-->
                                                            <apex:inputField Label="Post" value="{!jobroleIns.xcdhcm__Post_L__c}" id="fldid" required="true" >
                                                                <apex:actionSupport event="onchange" action="{!defaultValueFromCompEditJobrole}" rerender="theForm" status="wait" />
                                                            <!-- END:: 23/01/2018 Regression testrail Post issue fixed by Ranjeet-->
                                                            </apex:inputField>
                                                        </apex:actionRegion>
                                                    </div>                                                                                        
                                                </div>
                                            </div> 
                                        </apex:outputpanel>
                                    </apex:pageBlockSectionItem>
                                    
                                    <apex:repeat value="{!jobRoleEdit}" var="editRole" >
                                   	<apex:pageBlockSectionItem >
	                                        <!-- START:: 12/11/2018 NPPD-1819 FLS issue modify by  Kumbresh--> 
											<apex:outputpanel rendered="{!$objectType.xcdhcm__Job_Role__c.fields.xcdhcm__Appointment_grade__c.Accessible}">
											<!-- END:: 12/11/2018 NPPD-1819 FLS issue modify by  Kumbresh-->
                                            <div class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
                                                <div class="slds-form-element slds-p-around--small">                                                                                                     
                                                    <apex:outputLabel value="{!$objectType.xcdhcm__Job_Role__c.fields.xcdhcm__Appointment_grade__c.label}" for="appointmentGradeId" />
                                                    <div class="slds-form-element__control">
	                                                        <apex:inputField Label="{!$objectType.xcdhcm__Job_Role__c.fields.xcdhcm__Appointment_grade__c.label}" value="{!editRole.xcdhcm__Appointment_grade__c}" id="appointmentGradeId">
                                                        </apex:inputField>
                                                    </div>                                                                                        
                                                </div>
                                           	</div> 
	                                    </apex:outputpanel>
                                    </apex:pageBlockSectionItem>
                                    
                                    <apex:pageBlockSectionItem >
	                                        <!-- START:: 12/11/2018 NPPD-1819 FLS issue modify by  Kumbresh--> 
											<apex:outputpanel rendered="{!$objectType.xcdhcm__Job_Role__c.fields.xcdhcm__Appointment_date__c.Accessible}">
											<!-- END:: 12/11/2018 NPPD-1819 FLS issue modify by  Kumbresh-->
                                            <div class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
                                                <div class="slds-form-element slds-p-around--small">	                                                                                                 
                                                    <label class="slds-form-element__label" >
                                                        {!$objectType.Job_Role__c.fields.Appointment_date__c.Label}
                                                    </label> 
                                                    <div class="slds-form-element__control">
	                                                        <apex:inputField value="{!editRole.xcdhcm__Appointment_date__c}"  />
                                                    </div>                                                                                        
                                                </div>
                                            </div> 
                                        </apex:outputpanel>
                                    </apex:pageBlockSectionItem>
                                    </apex:repeat>
                                </apex:pageBlockSection>
								<!-- END :: NPPD-1862 20/12/2018 Control Post field on Job role edit page via custom setting added by Ranjeet -->								
                                <apex:pageBlockSection title="{!$Label.xcdhcm__jobrole_edit_employeeinformation}"  collapsible="false">
                                    <apex:repeat value="{!$ObjectType.xcdhcm__Job_Role__c.Fieldsets.xcdhcm__Job_role_information_Edit}" var="m">
								<!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata--> 
								<!-- START :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
								<apex:outputpanel rendered="{!AND(IF(NOT(OR(CONTAINS(m, 'Employment_Status__c'), CONTAINS(m, 'Employment_Type__c'), CONTAINS(m, 'Pattern_Type__c'), CONTAINS(m, 'Work_Cycle__c'), CONTAINS(m, 'Working_Days__c'), CONTAINS(m, 'First_day_of_cycle_editable__c'))), TRUE, FALSE),($objectType.xcdhcm__Job_Role__c.fields[m].Accessible))}">
									<!-- END :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
									<!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata--> 
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label"
												style="IF (m.label=='Blankspace','display: none;' ,'')}">
												<apex:outputPanel rendered="{!m.required}">
													<abbr class="slds-required" title="required">*</abbr>
												</apex:outputPanel> {!m.label} <span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields[m].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.xcdhcm__Job_Role__c.fields[m].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:inputField value="{!jobRoleEdit[m]}"
													required="{!m.required}"
													style="{!IF(m.label=='Blankspace','display:none;' ,'')}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:repeat>
						</apex:pageBlockSection>

                                <apex:pageBlockSection title="{!$Label.xcdhcm__jobrole_edit_employeeduration}"  collapsible="false">
                                    <apex:repeat value="{!$ObjectType.xcdhcm__Job_Role__c.Fieldsets.xcdhcm__Job_Role_duration_Edit}" var="n">
								<!-- START :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
								<apex:outputpanel rendered="{!AND(IF(NOT(OR(CONTAINS(n, 'Employment_Status__c'), CONTAINS(n, 'Employment_Type__c'), CONTAINS(n, 'Pattern_Type__c'), CONTAINS(n, 'Work_Cycle__c'), CONTAINS(n, 'Working_Days__c'), CONTAINS(n, 'First_day_of_cycle_editable__c'))), TRUE, FALSE),($objectType.xcdhcm__Job_Role__c.fields[n].Accessible))}">
									<!-- END :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
								 <!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label"
												style="IF (n.label=='Blankspace','display: none;' ,'')}">
												<apex:outputPanel rendered="{!n.required}">
													<abbr class="slds-required" title="required">*</abbr>
												</apex:outputPanel> {!n.label} <span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields[n].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.xcdhcm__Job_Role__c.fields[n].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:inputField value="{!jobRoleEdit[n]}"
													required="{!n.required}"
													style="{!IF(n.label=='Blankspace','display:none;' ,'')}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:repeat>
						</apex:pageBlockSection>

						<!-- START :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
                                <apex:pageBlockSection title="{!$Label.xcdhcm__jobrole_edit_employeeworkinghours}"  collapsible="false">
							<apex:pageBlockSectionItem >
							 <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
								<apex:outputpanel rendered="{!$objectType.xcdhcm__Job_Role__c.fields['Employment_Status__c'].Accessible}">
							 <!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->		
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
												{!$ObjectType.Job_Role__c.fields['Employment_Status__c'].Label}
												<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields['Employment_Status__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.xcdhcm__Job_Role__c.fields['Employment_Status__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:outputField value="{!jobRoleDetail['Employment_Status__c']}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
							 <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
								<apex:outputpanel rendered="{!$objectType.xcdhcm__Job_Role__c.fields['Employment_Type__c'].Accessible}">
							  <!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->		
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
												{!$ObjectType.Job_Role__c.fields['Employment_Type__c'].Label}
												<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields['Employment_Type__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.xcdhcm__Job_Role__c.fields['Employment_Type__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:outputField value="{!jobRoleDetail['Employment_Type__c']}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
							 <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
								<apex:outputpanel rendered="{!$objectType.xcdhcm__Job_Role__c.fields['Pattern_Type__c'].Accessible}">
							 <!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->		
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
			                                            {!$ObjectType.Job_Role__c.fields['Pattern_Type__c'].Label}
			                                            <span class="LiteHelpText">
												        <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields['Pattern_Type__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.xcdhcm__Job_Role__c.fields['Pattern_Type__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:outputField value="{!jobRoleDetail['Pattern_Type__c']}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
								<apex:outputPanel id="workCyclePanel">
									<apex:outputpanel rendered="{!IF(NOT(AND( jobRoleDetail['Pattern_Type__c'] = 'Flexible working days', jobRoleDetail['Pattern_Type__c'] = 'Irregular shift pattern')),true,false)}">
										 <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
										<apex:outputpanel rendered="{!AND(IF(AND(jobRoleDetail['Pattern_Type__c'] != 'Work cycle - days', jobRoleDetail['Pattern_Type__c'] != 'Work cycle - hours', jobRoleDetail['Pattern_Type__c'] != 'Flexible working days', jobRoleDetail['Pattern_Type__c'] != 'Irregular shift pattern'),true,false),($objectType.xcdhcm__Job_Role__c.fields['Working_Days__c'].Accessible))}">
									          <!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->		
											<div
												class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
												<div class="slds-form-element slds-p-around--small">
													<label class="slds-form-element__label">
														{!$ObjectType.Job_Role__c.fields['Working_Days__c'].Label}
														<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields['Working_Days__c'].inlineHelpText))}"
																value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
															<span>{!$ObjectType.xcdhcm__Job_Role__c.fields['Working_Days__c'].inlineHelpText}</span>
													</span>
													</label>
													<div class="slds-form-element__control">
													        	<apex:outputField id="JWorkingdays" value="{!jobRoleDetail['Working_Days__c']}"/>
													</div>
												</div>
											</div>
										</apex:outputpanel>
                                                                                 <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
										<apex:outputpanel rendered="{!AND(IF(OR(jobRoleDetail['Pattern_Type__c'] = 'Work cycle - days', jobRoleDetail['Pattern_Type__c'] = 'Work cycle - hours'),true,false),($objectType.xcdhcm__Job_Role__c.fields['Work_Cycle__c'].Accessible))}">
									          <!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->		
											<div
												class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
												<div class="slds-form-element slds-p-around--small">
													<label class="slds-form-element__label">
													            {!$ObjectType.Job_Role__c.fields['Work_Cycle__c'].Label}
													            <span class="LiteHelpText">
													                <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields['Work_Cycle__c'].inlineHelpText))}" value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}"/>
															<span>{!$ObjectType.xcdhcm__Job_Role__c.fields['Work_Cycle__c'].inlineHelpText}</span>
													</span>
													</label>
													<div class="slds-form-element__control">
				                                                <apex:outputField id="workCycle" value="{!jobRoleDetail['Work_Cycle__c']}"/>
													</div>
												</div>
											</div>
										</apex:outputpanel>
									</apex:outputpanel>
								</apex:outputPanel>
							</apex:pageBlockSectionItem>
 				                        <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
							<apex:pageBlockSectionItem rendered="{!AND(IF(OR(jobRoleDetail['Pattern_Type__c'] = 'Work cycle - days', jobRoleDetail['Pattern_Type__c'] = 'Work cycle - hours'),true,false),($objectType.xcdhcm__Job_Role__c.fields['First_day_of_cycle_editable__c'].Accessible))}">
							 <!-- END:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->	
								<apex:outputPanel id="firstDayOfCyclePanel">
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
												{!$ObjectType.Job_Role__c.fields['First_day_of_cycle_editable__c'].Label}
												<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields['First_day_of_cycle_editable__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.xcdhcm__Job_Role__c.fields['First_day_of_cycle_editable__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:outputField id="firstDayOfCycle"
													value="{!jobRoleDetail['First_day_of_cycle_editable__c']}" />
											</div>
										</div>
									</div>
								</apex:outputPanel>
							</apex:pageBlockSectionItem>

                                    <apex:repeat value="{!$ObjectType.xcdhcm__Job_Role__c.Fieldsets.xcdhcm__Job_Role_Working_Hours_Edit}" var="o">
								 <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->
								<apex:outputpanel rendered="{!AND(IF(NOT(OR(CONTAINS(o, 'Employment_Status__c'), CONTAINS(o, 'Employment_Type__c'), CONTAINS(o, 'Pattern_Type__c'), CONTAINS(o, 'Work_Cycle__c'), CONTAINS(o, 'Working_Days__c'), CONTAINS(o, 'First_day_of_cycle_editable__c'))), TRUE, FALSE),($objectType.xcdhcm__Job_Role__c.fields[o].Accessible))}">
								 <!-- START:: 12/11/2018 NPPD-1770 hotfix for FLS issue modify by  Namrata-->	
										<div
											class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
											<div class="slds-form-element slds-p-around--small">
												<label class="slds-form-element__label"
													style="IF (o.label=='Blankspace','display: none;' ,'')}">
													<apex:outputPanel rendered="{!o.required}">
														<abbr class="slds-required" title="required">*</abbr>
													</apex:outputPanel> {!o.label} <span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields[o].inlineHelpText))}"
															value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
														<span>{!$ObjectType.xcdhcm__Job_Role__c.fields[o].inlineHelpText}</span>
												</span>
												</label>
												<div class="slds-form-element__control">
													<apex:inputField value="{!jobRoleEdit[o]}"
														required="{!o.required}"
														style="{!IF(o.label=='Blankspace','display:none;' ,'')}" />
												</div>
											</div>
										</div>
									</apex:outputpanel>
									</apex:repeat>
								</apex:pageBlockSection>
								<!-- END :: NPPD-1162 12/04/2018 Toggle showing of Work cycle and Working days fields based on Pattern type selected  Modified by Ranjeet -->
				     
				     			<!-- START :: NPPD-1853 22/12/2018 Job Role Field Sets - Tidy Up added by Namrata -->
								<apex:pageBlockSection title="{!$Label.xcdhcm__clonejbrole_seniority_entitlement}"
									collapsible="false">
									<apex:repeat value="{!$ObjectType.xcdhcm__Job_Role__c.Fieldsets.xcdhcm__Seniority_and_leave_entitlement}"
										var="n">
										<apex:outputpanel rendered="{!$ObjectType.xcdhcm__Job_Role__c.fields[n].Accessible}">
											<div
												class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
												<div class="slds-form-element slds-p-around--small">
													<label class="slds-form-element__label"
														style="IF (n.label=='Blankspace','display: none;' ,'')}">
														<apex:outputPanel rendered="{!n.required}">
															<abbr class="slds-required" title="required">*</abbr>
														</apex:outputPanel> {!n.label} <span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.xcdhcm__Job_Role__c.fields[n].inlineHelpText))}"
																value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
															<span>{!$ObjectType.xcdhcm__Job_Role__c.fields[n].inlineHelpText}</span>
													</span>
													</label>
													<div class="slds-form-element__control">
														<apex:inputField value="{!jobRoleEdit[n]}"
															required="{!n.required}"
															style="{!IF(n.label=='Blankspace','display:none;' ,'')}" />
													</div>
												</div>
											</div>
										</apex:outputpanel>
									</apex:repeat>
								</apex:pageBlockSection>
			     			<!-- END :: NPPD-1853 22/12/2018 Job Role Field Sets - Tidy Up added by Namrata -->
						<apex:actionRegion >
							<apex:pageBlockSection collapsible="false"
								title="{!$Label.xcdhcm__clonejbrole_extended_permission}"
								id="extendedSharingId" columns="2"
								rendered="{!if(($User.Id != jobRoleDetail.Employee_Details__r.xcdhcm__User__c),true,false)}">
								<apex:pageBlockSectionItem >
									<apex:outputpanel >
										<div
											class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
											<div class="slds-form-element slds-p-around--small">
												<label class="slds-form-element__label"> <abbr
													class="slds-required" title="required">*</abbr>
													{!$Label.CloneJBRoleSExtendedPermissionSIProfile}
												</label>
												<div class="slds-form-element__control">
													<apex:actionRegion >
														<apex:outputPanel styleClass="requiredInput"
															layout="block">
															<apex:outputPanel styleClass="requiredBlock"
																layout="block" />
															<apex:selectList id="profilePicklist"
																value="{!ProfileId}" size="1" required="true"
																style="width:177px!important;" tabindex="10">
																<apex:selectOptions value="{!ProfileOptions}" />
															</apex:selectList>
														</apex:outputPanel>
													</apex:actionRegion>
												</div>
											</div>
										</div>
									</apex:outputpanel>
								</apex:pageBlockSectionItem>

								<!-- START :: 01-09-2017 Summer2017Patch NPPD-1516 Joiner Process - Data Security Modified by Rahul S -->
								<apex:pageBlockSectionItem rendered="{!AND(ShowPermissionSetField, userInactive!=true)}">
									<!-- END :: 01-09-2017 Summer2017Patch NPPD-1516 Joiner Process - Data Security Modified by Rahul S -->
									<apex:outputpanel >
										<div
											class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
											<div class="slds-form-element slds-p-around--small">
												<label class="slds-form-element__label">
													{!$Label.CloneJBRoleSExtendedPermissionSIPermissionset} </label>
												<div class="slds-form-element__control"
													style="width: 200% !important">
													<c:MultiselectPicklist leftOption="{!deSelectedPermissionSet}"
														rightOption="{!selectedPermissionSet}" size="5"
														width="150px" />
												</div>
											</div>
										</div>
									</apex:outputpanel>
								</apex:pageBlockSectionItem>

								<!-- START :: 01-09-2017 Summer2017Patch NPPD-1516 Joiner Process - Data Security Modified by Rahul S -->
								<apex:pageBlockSectionItem rendered="{!ShowPublicGroupField}">
									<!-- END :: 01-09-2017 Summer2017Patch NPPD-1516 Joiner Process - Data Security Modified by Rahul S -->
									<apex:outputpanel >
										<div
											class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
											<div class="slds-form-element slds-p-around--small">
												<label class="slds-form-element__label">
													{!$Label.CloneJBRoleSExtendedPermissionSIAssigntopublicgroups}
												</label>
												<div class="slds-form-element__control"
													style="width: 200% !important">
													<apex:outputPanel >
														<c:MultiselectPicklist leftOption="{!deSelectedPublicGroupSet}"
															rightOption="{!selectedPublicGroupSet}" size="5"
															width="150px" />
													</apex:outputPanel>
												</div>
											</div>
										</div>
									</apex:outputpanel>
								</apex:pageBlockSectionItem>

							</apex:pageBlockSection>
						</apex:actionRegion>

								<!-- START :: NPPD-1853 22/12/2018 Job Role Field Sets - Tidy Up commented by Namrata -->
						<!-- START :: NPPD-1162 12/04/2018 Add new section Seniority Entitlement on Change job role page Added by Ranjeet -->
								<!--  <apex:pageBlockSection title="{!$Label.xcdhcm__clonejbrole_seniority_entitlement}"
							id="seniorityEntitlementId" collapsible="false">
							<apex:pageBlockSectionItem >
                             
								<apex:outputpanel rendered="{!$objectType.Job_Role__c.fields['Additional_Leave_for_Job_Role_Seniority__c'].Accessible}">
                            
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
												{!$ObjectType.Job_Role__c.fields['Additional_Leave_for_Job_Role_Seniority__c'].Label}
												<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.Job_Role__c.fields['Additional_Leave_for_Job_Role_Seniority__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.Job_Role__c.fields['Additional_Leave_for_Job_Role_Seniority__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:inputField value="{!jobRoleDetail['Additional_Leave_for_Job_Role_Seniority__c']}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
                            
								<apex:outputpanel rendered="{!$objectType.Job_Role__c.fields['Seniority_status__c'].Accessible}">
                                    
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
												{!$ObjectType.Job_Role__c.fields['Seniority_status__c'].Label}
												<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.Job_Role__c.fields['Seniority_status__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.Job_Role__c.fields['Seniority_status__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:inputField value="{!jobRoleDetail['Seniority_status__c']}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
                            
								<apex:outputpanel rendered="{!$objectType.Job_Role__c.fields['Additional_Contractual_Leave_Entitlement__c'].Accessible}" >
                             
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
												{!$ObjectType.Job_Role__c.fields['Additional_Contractual_Leave_Entitlement__c'].Label}
												<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.Job_Role__c.fields['Additional_Contractual_Leave_Entitlement__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.Job_Role__c.fields['Additional_Contractual_Leave_Entitlement__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:inputField value="{!jobRoleDetail['Additional_Contractual_Leave_Entitlement__c']}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:pageBlockSectionItem>
							<apex:pageBlockSectionItem >
                            
								<apex:outputpanel rendered="{!$objectType.Job_Role__c.fields['Entitlement_notes__c'].Accessible}">
                                    
									<div
										class="slds-col slds-size--1-of-1 slds-small-size--6-of-12">
										<div class="slds-form-element slds-p-around--small">
											<label class="slds-form-element__label">
												{!$ObjectType.Job_Role__c.fields['Entitlement_notes__c'].Label}
												<span class="LiteHelpText"> <apex:image rendered="{!NOT(ISNULL($ObjectType.Job_Role__c.fields['Entitlement_notes__c'].inlineHelpText))}"
														value="{!URLFOR($Resource.xcdhcm__XCD_static_resources,'Css/Lite/Lhelp.png')}" />
													<span>{!$ObjectType.Job_Role__c.fields['Entitlement_notes__c'].inlineHelpText}</span>
											</span>
											</label>
											<div class="slds-form-element__control">
												<apex:inputField value="{!jobRoleDetail['Entitlement_notes__c']}" />
											</div>
										</div>
									</div>
								</apex:outputpanel>
							</apex:pageBlockSectionItem>
								</apex:pageBlockSection>-->
						<!-- END :: NPPD-1162 12/04/2018 Add new section Seniority Entitlement on Change job role page Added by Ranjeet -->
							<!-- END :: NPPD-1853 22/12/2018 Job Role Field Sets - Tidy Up commented by Namrata -->
					</apex:pageBlock>
					<!-- START :: NPPD-1697 09/08/2018 Job role effective to coded validation changes Added by Anil -->
					<apex:outputPanel id="popup">
						<apex:outputpanel id="popupSub1" styleClass="popupBg"
							rendered="{!displayPopupOnChangeEffectiveto}" />
						<apex:outputPanel id="popup1" styleClass="customPopup"
							layout="block" rendered="{!displayPopupOnChangeEffectiveto}">
							<center>
								<apex:outputtext id="oText2"
									value="You may change the Effective to date on this record but please consider if you also need to change dates on any related records - e.g. Job Role, Compensation or Benefit records for date changes, or Employee and User if the Employee was previously marked as a Leaver"
									rendered="{!displayPopupOnChangeEffectiveto}" />
								<br />
								<apex:commandButton value="Cancel"
									action="{!cancelEditJobRoleEffectiveToAction}" rerender="popup"
									styleclass="slds-button slds-button--neutral" />
								<apex:commandButton id="okButton1" value="Ok"
									action="{!saveJobRoleEdit}" rerender="popup,error,pg"
									styleclass="slds-button slds-button--neutral" />
							</center>
						</apex:outputPanel>
					</apex:outputPanel>
					<!-- END :: NPPD-1697 09/08/2018 Job role effective to coded validation changes Added by Anil -->
					<!-- ================================== Page content  ==========================================================    -->
				</div>
				<div class="slds-modal__footer">
					<apex:actionStatus id="saveStatus">
						<apex:facet name="stop">
							<apex:outputPanel >
								<apex:commandButton value="{!$Label.xcdhcm__jobrole_edit_employeebcancel}"
									action="{!cancelCreateNewJobrole}" immediate="true"
									styleclass="slds-button slds-button--neutral"
									status="saveStatus" reRender="btns" />
								<!-- START :: NPPD-1697 09/08/2018 Job role effective to coded validation changes Added by Anil -->
								<!-- <apex:commandButton id="btns" action="{!saveJobRoleEdit}"  rerender="error,btns,pg" value="{!$Label.xcdhcm__jobrole_edit_employeebsave}" styleclass="slds-button slds-button--brand" status="saveStatus"/> -->
								<apex:commandButton id="btns" action="{!popupOnSave}"
									rerender="error,btns,pg,popup"
									value="{!$Label.xcdhcm__jobrole_edit_employeebsave}"
									styleclass="slds-button slds-button--brand" status="saveStatus" />
								<!-- END :: NPPD-1697 09/08/2018 Job role effective to coded validation changes Added by Anil -->
							</apex:outputPanel>
						</apex:facet>
						<apex:facet name="start">
							<div class="slds-spinner_container slds-show"
								style="top: 10%; bottom: 9%">
								<div
									class="slds-spinner--brand slds-spinner slds-spinner--medium"
									aria-hidden="false" role="alert">
									<div class="slds-spinner__dot-a"></div>
									<div class="slds-spinner__dot-b"></div>
								</div>
							</div>
						</apex:facet>
					</apex:actionStatus>
				</div>
			</div>
		</div>
		<div class="slds-backdrop slds-backdrop--open"></div>
	</apex:form>
</body>
	</html>
	<!-- START :: NPPD-1697 09/08/2018 Job role effective to coded validation changes Added by Anil -->
	<style>
    	.popupBg
		{
			//background-color:#FFFFFF;
			opacity: 1.0;
			filter: alpha(opacity = 60);
			position: absolute;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			z-index: 9998;
		}
		
		.customPopup
		{
			line-height: 25px;
			position: absolute;
			left: 50%;
			padding:10px;
			z-index: 9999;
			text-align: center;
			top: 40%;
			width: 500px;
			margin-left: -250px;
			text-decoration: none;
			font-weight: bold;
			
			background: #ffffff !important;
			border: 1px solid #ccc !important;
			
			-webkit-border-radius: 5px;
			-moz-border-radius: 5px;
			color:#336699;
		}
    </style>
    <!-- END :: NPPD-1697 09/08/2018 Job role effective to coded validation changes Added by Anil -->
</apex:page>